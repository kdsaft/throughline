<script>
    const syllableButton = document.getElementById("syllableButton");
    const syllableButtonIcon = document.getElementById("syllableButtonIcon");

    const syllableOnIcon = "https://kdsaft.github.io/throughline/icons/Syllable-on.svg";
    const syllableOffIcon = "https://kdsaft.github.io/throughline/icons/Syllable-normal.svg";

    syllableButton.addEventListener("mousedown", handleInteractionStart);
    syllableButton.addEventListener("mouseup", handelInteractionEnd);

    syllableButton.addEventListener("touchstart", handleInteractionStart);
    syllableButton.addEventListener("touchend", handelInteractionEnd);


    function handleInteractionStart(event) {
        event.preventDefault();

        if (getMagicLensVisibility()) {
            syllableButtonIcon.src = syllableOffIcon;
            buttonOff.play();
        } else {
            syllableButtonIcon.src = syllableOnIcon;
            buttonOn.play();
        };
    }



    function handelInteractionEnd(event) {
        event.preventDefault();

        if (getMagicLensVisibility()) {
            syllableButtonIcon.setAttribute('aria-label', 'MagicLens deactivated');
            hideMagicLens();
            resetsyllableButton()
        } else {
            syllableButtonIcon.setAttribute('aria-label', 'MagicLens activated');
            showMagicLens();
        };

    }

    function resetsyllableButton() {
        syllableButtonIcon.src = syllableOffIcon;
    }

    function turnSyllableButtonOn() {
        if (syllableButtonIcon.src != syllableOnIcon) {
        syllableButtonIcon.src = syllableOnIcon;
        syllableButtonIcon.setAttribute('aria-label', 'MagicLens activated');
        }
    }

</script>

<style>

button {
            width: 72px;
            height: 72px;
            padding: 0;
            border: none;
            background-color: transparent;
            cursor: pointer;
            appearance: none; /* remove button styles from Safari and other browsers */
            margin: 0; /* reset margin for Safari */
            overflow: hidden; /* hide overflowing content from circle */
        }

        img {
            display: block; /* remove default margin from img element on Safari*/
            margin: 0; /* reset margin for img element */
            padding: 0; /* reset padding for img element */
        }
</style>

<body>
    <button id="syllableButton" style="position: relative;">
        <img id="syllableButtonIcon" src="https://kdsaft.github.io/throughline/icons/Syllable-normal.svg" width="64"
            height="64" style="position: absolute; top: 4px; left: 4px" aria-label="Syllable button" />
    </button>
</body>